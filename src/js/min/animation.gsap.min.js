(function(c,f){"function"===typeof define&&define.amd?define(["ScrollMagic","TweenMax","TimelineMax"],f):"object"===typeof exports?(require("gsap"),f(require("scrollmagic"),TweenMax,TimelineMax)):f(c.ScrollMagic||c.jQuery&&c.jQuery.ScrollMagic,c.TweenMax||c.TweenLite,c.TimelineMax||c.TimelineLite)})(this,function(c,f,n){var d=window.console||{},d=Function.prototype.bind.call(d.error||d.log||function(){},d);c||d("(animation.gsap) -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs.");
f||d("(animation.gsap) -> ERROR: TweenLite or TweenMax could not be found. Please make sure GSAP is loaded before ScrollMagic or use an asynchronous loader like requirejs.");c.Scene.addOption("tweenChanges",!1,function(b){return!!b});c.Scene.extend(function(){var b=this,a,c=function(){b._log&&(Array.prototype.splice.call(arguments,1,0,"(animation.gsap)","->"),b._log.apply(this,arguments))};b.on("progress.plugin_gsap",function(){d()});b.on("destroy.plugin_gsap",function(a){b.removeTween(a.reset)});
var d=function(){if(a){var c=b.progress(),d=b.state();a.repeat&&-1===a.repeat()?"DURING"===d&&a.paused()?a.play():"DURING"===d||a.paused()||a.pause():c!=a.progress()&&(0===b.duration()?0<c?a.play():a.reverse():b.tweenChanges()&&a.tweenTo?a.tweenTo(c*a.duration()):a.progress(c).pause())}};b.setTween=function(g,k,p){var e;1<arguments.length&&(3>arguments.length&&(p=k,k=1),g=f.to(g,k,p));try{e=n?(new n({smoothChildTiming:!0})).add(g):g,e.pause()}catch(t){return c(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenObject"),
b}a&&b.removeTween();a=e;g.repeat&&-1===g.repeat()&&(a.repeat(-1),a.yoyo(g.yoyo()));b.tweenChanges()&&!a.tweenTo&&c(2,"WARNING: tweenChanges will only work if the TimelineMax object is available for ScrollMagic.");if(a&&b.controller()&&b.triggerElement()&&2<=b.loglevel()){e=f.getTweensOf(b.triggerElement());var r=b.controller().info("vertical");e.forEach(function(a,b){var d=a.vars.css||a.vars;if(r?void 0!==d.top||void 0!==d.bottom:void 0!==d.left||void 0!==d.right)return c(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),
!1})}if(1.14<=parseFloat(TweenLite.version)){e=a.getChildren?a.getChildren(!0,!0,!1):[a];for(var q=function(){c(2,"WARNING: tween was overwritten by another. To learn how to avoid this issue see here: https://github.com/janpaepke/ScrollMagic/wiki/WARNING:-tween-was-overwritten-by-another")},l=0,m,h;l<e.length;l++)m=e[l],h!==q&&(h=m.vars.onOverwrite,m.vars.onOverwrite=function(){h&&h.apply(this,arguments);q.apply(this,arguments)})}c(3,"added tween");d();return b};b.removeTween=function(d){a&&(d&&a.progress(0).pause(),
a.kill(),a=void 0,c(3,"removed tween (reset: "+(d?"true":"false")+")"));return b}})});
